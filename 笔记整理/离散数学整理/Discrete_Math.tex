\special{dvipdfmx:config z 0} %取消PDF压缩，加快速度，最终版本生成的时候最好把这句话注释掉

\documentclass{ctexart}
\usepackage{newtxtext, geometry, amsmath, amssymb}
\usepackage{stmaryrd}
\usepackage{amsthm} % 设置定理环境，要在amsmath后用
\usepackage{xpatch} % 用于去除amsthm定义的编号后面的点
\usepackage[strict]{changepage} % 提供一个 adjustwidth 环境
\usepackage{multicol} % 用于分栏
\usepackage[fontsize=14pt]{fontsize} % 字号设置
\usepackage{esvect} % 实现向量箭头输入（显示效果好于\vec{}和\overrightarrow{}），格式为\vv{⟨向量符号⟩}或\vv*{⟨向量符号⟩}{⟨下标⟩} 
\usepackage[
            colorlinks, % 超链接以颜色来标识，而并非使用默认的方框来标识
            linkcolor=mlv,
            anchorcolor=mlv,
            citecolor=mlv % 设置各种超链接的颜色
            ]
            {hyperref} % 实现引用超链接功能
\usepackage{tcolorbox} % 盒子效果
\tcbuselibrary{most} % tcolorbox宏包的设置，详见宏包说明文档

\geometry{a4paper,centering,scale=0.8}

% ————————————————————————————————————自定义符号————————————————————————————————————
\newcommand{\。}{．} % 示例：将指令\。定义为全角句点。
\newcommand{\zte}{\mathrm{e}} % 正体e
\newcommand{\ztd}{\mathrm{d}} % 正体d
\newcommand{\zti}{\mathrm{i}} % 正体i
\newcommand{\ztj}{\mathrm{j}} % 正体j
\newcommand{\ztk}{\mathrm{k}} % 正体k
\newcommand{\CC}{\mathbb{C}} % 黑板粗体C
\newcommand{\QQ}{\mathbb{Q}} % 黑板粗体Q
\newcommand{\RR}{\mathbb{R}} % 黑板粗体R
\newcommand{\ZZ}{\mathbb{Z}} % 黑板粗体Z
\newcommand{\NN}{\mathbb{N}} % 黑板粗体N
\newcommand{\lb}{\left\llbracket}
\newcommand{\rb}{\right\rrbracket}
% ————————————————————————————————————自定义符号————————————————————————————————————

% ————————————————————————————————————自定义颜色————————————————————————————————————
\definecolor{mlv}{RGB}{40, 137, 124} % 墨绿
\definecolor{qlv}{RGB}{240, 251, 248} % 浅绿
\definecolor{slv}{RGB}{33, 96, 92} % 深绿
\definecolor{qlan}{RGB}{239, 249, 251} % 浅蓝
\definecolor{slan}{RGB}{3, 92, 127} % 深蓝
\definecolor{hlan}{RGB}{82, 137, 168} % 灰蓝
\definecolor{qhuang}{RGB}{246, 250, 235} % 浅黄
\definecolor{shuang}{RGB}{77, 82, 59} % 深黄
\definecolor{qzi}{RGB}{240, 243, 252} % 浅紫
\definecolor{szi}{RGB}{49, 55, 70} % 深紫
% 将RGB换为rgb，颜色数值取值范围改为0到1
% ————————————————————————————————————自定义颜色————————————————————————————————————

% ————————————————————————————————————盒子设置————————————————————————————————————
% tolorbox提供了tcolorbox环境，其格式如下：
% 第一种格式：\begin{tcolorbox}[colback=⟨背景色⟩, colframe=⟨框线色⟩, arc=⟨转角弧度半径⟩, boxrule=⟨框线粗⟩]   \end{tcolorbox}
% 其中设置arc=0mm可得到直角；boxrule可换为toprule/bottomrule/leftrule/rightrule可分别设置对应边宽度，但是设置为0mm时仍有细边，若要绘制单边框线推荐使用第二种格式
% 方括号内加上title=⟨标题⟩, titlerule=⟨标题背景线粗⟩, colbacktitle=⟨标题背景线色⟩可为盒子加上标题及其背景线
\newenvironment{kuang1}{
    \begin{tcolorbox}[colback=hlan, colframe=hlan, arc = 1mm]
    }
    {\end{tcolorbox}}
\newenvironment{kuang2}{
    \begin{tcolorbox}[colback=hlan!5!white, colframe=hlan, arc = 1mm]
    }
    {\end{tcolorbox}}
% 第二种格式：\begin{tcolorbox}[enhanced, colback=⟨背景色⟩, boxrule=0pt, frame hidden, borderline={⟨框线粗⟩}{⟨偏移量⟩}{⟨框线色⟩}]   {\end{tcolorbox}}
% 将borderline换为borderline east/borderline west/borderline north/borderline south可分别为四边添加框线，同一边可以添加多条
% 偏移量为正值时，框线向盒子内部移动相应距离，负值反之
\newenvironment{kuang3}{
    \begin{tcolorbox}[enhanced, breakable, colback=hlan!5!white, boxrule=0pt, frame hidden,
        borderline south={0.5mm}{0.1mm}{hlan}]
    }
    {\end{tcolorbox}}
\newenvironment{lvse}{
    \begin{tcolorbox}[enhanced, breakable, colback=qlv, boxrule=0pt, frame hidden,
        borderline west={0.7mm}{0.1mm}{slv}]
    }
    {\end{tcolorbox}}
\newenvironment{lanse}{
    \begin{tcolorbox}[enhanced, breakable, colback=qlan, boxrule=0pt, frame hidden,
        borderline west={0.7mm}{0.1mm}{slan}]
    }
    {\end{tcolorbox}}
\newenvironment{huangse}{
    \begin{tcolorbox}[enhanced, breakable, colback=qhuang, boxrule=0pt, frame hidden,
        borderline west={0.7mm}{0.1mm}{shuang}]
    }
    {\end{tcolorbox}}
\newenvironment{zise}{
    \begin{tcolorbox}[enhanced, breakable, colback=qzi, boxrule=0pt, frame hidden,
        borderline west={0.7mm}{0.1mm}{szi}]
    }
    {\end{tcolorbox}}
% tcolorbox宏包还提供了\tcbox指令，用于生成行内盒子，可制作高光效果
\newcommand{\hl}[1]{
    \tcbox[on line, arc=0pt, colback=hlan!5!white, colframe=hlan!5!white, boxsep=1pt, left=1pt, right=1pt, top=1.5pt, bottom=1.5pt, boxrule=0pt]
{\bfseries \color{hlan}#1}}
% 其中on line将盒子放置在本行（缺失会跳到下一行），boxsep用于控制文本内容和边框的距离，left、right、top、bottom则分别在boxsep的参数的基础上分别控制四边距离
% ————————————————————————————————————盒子设置————————————————————————————————————

% ————————————————————————————————————自定义字体设置————————————————————————————————————
\setCJKfamilyfont{xbsong}{方正小标宋简体}
\newcommand{\xbsong}{\CJKfamily{xbsong}}
% CTeX宏集还预定义了\songti、\heiti、\fangsong、\kaishu、\lishu、\youyuan、\yahei、\pingfang等字体命令
% 由于未知原因，一些设备可能无法调用这些字体，故此文档暂时未使用
% ————————————————————————————————————自定义字体设置————————————————————————————————————

% ————————————————————————————————————各级标题设置————————————————————————————————————
\ctexset{
    % 修改 section。
    section={   
    % 设置标题编号前后的词语，使用name={⟨前部分⟩,⟨后部分⟩}参数进行设置。    
        name={\textbf{Chapter}\hspace{6pt} , \hspace{6pt}},
    % 使用number参数设置标题编号，\arabic设置为阿拉伯数字，\chinese设置为中文，\roman设置为小写罗马字母，\Roman设置为大写罗马字母，\alph设置为小写英文，\Alph设置为大写英文。
        number={\textbf{\Roman{section}}},
    % 参数format设置标题整体的样式。包括标题主题、编号以及编号前后的词语。
    % 参数format还可以设置标题的对齐方式。居中对齐\centering，左对齐\raggedright，右对齐\hfill
        format=\color{hlan}\centering\zihao{2}, % 设置 section 标题为正蓝色、黑体、居中对齐、小二号字
    % 取消编号后的空白。编号后有一段空白，参数aftername=\hspace{0pt}可以用来控制编号与标题之间的距离。
        aftername={}
    },
    % 修改 subsection。
    subsection={   
        name={\S \hspace{6pt}\hspace{8pt}},
        number={\arabic{section}.\arabic{subsection}\hspace{5pt}},
        format=\color{hlan}\centering\zihao{-2}, % 设置 subsection 标题为黑体、三号字
        aftername=\hspace{0pt}
    },
    subsubsection={   
        name={ , \hspace{3pt}},
        number={\arabic{subsubsection}},
        format=\raggedright\color{hlan}\zihao{3},
        aftername=\hspace{0pt}
    },
    part={   
        name={Part\hspace{2pt} , },
        number={\Roman{part}},
        format=\color{white}\centering\bfseries\zihao{-1},
        aftername=\hspace{1em}
    }
}
% 各个标题设置的各行结尾一定要记得写逗号！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
% ————————————————————————————————————各级标题设置————————————————————————————————————

% ————————————————————————————————————定理类环境设置————————————————————————————————————
\newtheoremstyle{t}{0pt}{}{}{\parindent}{\bfseries}{}{1em}{} % 定义新定理风格。格式如下：
%\newtheoremstyle{⟨风格名⟩}
%                {⟨上方间距⟩} % 若留空，则使用默认值
%                {⟨下方间距⟩} % 若留空，则使用默认值
%                {⟨主体字体⟩} % 如 \itshape
%                {⟨缩进长度⟩} % 若留空，则无缩进；可以使用 \parindent 进行正常段落缩进
%                {⟨定理头字体⟩} % 如 \bfseries
%                {⟨定理头后的标点符号⟩} % 如点号、冒号
%                {⟨定理头后的间距⟩} % 不可留空，若设置为 { }，则表示正常词间间距；若设置为 {\newline}，则环境内容开启新行
%                {⟨定理头格式指定⟩} % 一般留空
% 定理风格决定着由 \newtheorem 定义的环境的具体格式，有三种定理风格是预定义的，它们分别是：
% plain: 环境内容使用意大利斜体，环境上下方添加额外间距
% definition: 环境内容使用罗马正体，环境上下方添加额外间距
% remark: 环境内容使用罗马正体，环境上下方不添加额外间距
\theoremstyle{t} % 设置定理风格
\newtheorem{dyhj}{\color{slv} Define}[subsection] % 定义定义环境，格式为\newtheorem{⟨环境名⟩}{⟨定理头文本⟩}[⟨上级计数器⟩]或\newtheorem{⟨环境名⟩}[⟨共享计数器⟩]{⟨定理头文本⟩}，其变体\newtheorem*不带编号
\newtheorem{dlhj}{\color{shuang} Theorem}[subsection]
\newtheorem{lthj}{\color{szi} Example}[subsection]
\newtheorem*{jiehj}{\color{slan} Solve}
\newtheorem*{zmhj}{\color{slan} Proof}
\newenvironment{dy}{\begin{lvse}\begin{dyhj}}{\end{dyhj}\end{lvse}}
\newenvironment{zm}{\begin{lanse}\begin{zmhj}}{$\hfill \square$\end{zmhj}\end{lanse}}
\newenvironment{dl}{\begin{huangse}\begin{dlhj}}{\end{dlhj}\end{huangse}}
\newenvironment{lt}{\begin{zise}\begin{lthj}}{\end{lthj}\end{zise}}
% ————————————————————————————————————定理类环境设置————————————————————————————————————

% ————————————————————————————————————目录设置————————————————————————————————————
\setcounter{tocdepth}{4} % 设置在 ToC 的显示的章节深度
\setcounter{secnumdepth}{3} % 设置章节的编号深度
% 数值可选选项：-1 part 0 chapter 1 section 2 subsection 3 subsubsection 4 paragraph 5 subparagraph
\renewcommand{\contentsname}{Contents}
% ————————————————————————————————————目录设置————————————————————————————————————

\everymath{\displaystyle} % 设置所有数学公式显示为行间公式的样式

\begin{document}

\quad\\
{
\Huge \bfseries 
\begin{kuang3}
    \color{hlan}
    \centering
    Discrete Math
\end{kuang3}
}

\thispagestyle{empty} % 取消这一页的页码
\newpage

% ————————————————————————————————————页码设置————————————————————————————————————
\pagenumbering{Roman}
\setcounter{page}{1}

\begin{multicols}{2} % 设置环境中内容为两栏。数字为栏数
    {
    \tableofcontents
    }
\end{multicols}

\newpage
\setcounter{page}{1}
\pagenumbering{arabic}
% ————————————————————————————————————页码设置————————————————————————————————————

% 指令\addcontentsline{toc}{⟨章节层级⟩}{⟨标题名⟩}可将“⟨标题名⟩”加入目录。如为无章节层级的标题，可先用\phantomsection指令添加section分级

\begin{kuang1}
    \part{Discrete Math: Logic}
\end{kuang1}

\begin{kuang2}
    \section{Propositional Logic}
\end{kuang2}

\begin{kuang3}
    \subsection{Connectives and Truth Assingments}
\end{kuang3}


\begin{dy} % 开始定义环境，格式为\begin{⟨环境名⟩}[⟨定理名⟩]
[Truth table of Connectives](Omitted)
\end{dy}

\begin{dy}[Truth Assingments] 
    Suppose $\Sigma $ is the set of propositional variables. A mapping from $\Sigma$ to $\{\mathbf{T}, \mathbf{F}\}$ called a truth assignment.
\end{dy}

\begin{dy}
    Suppose $\Sigma $ is the set of propositional variables and $\mathcal{J}: \Sigma \rightarrow \{\mathbf{T}, \mathbf{F}\}$ is a truth assignment. The truth value of the compond proposition on $\mathcal{J}$ \dots \\ (Omitted)
\end{dy}

\begin{dy}[Tautology, contradiction]
    (Omitted)
\end{dy}

\begin{dy}[Contingency, Satisfiable]
    A \textcolor{shuang}{contingency} is a compound proposition that is neither a tautology nor a contradiction. \\
    A compound proposition is \textcolor{shuang}{satisfiable} if it is true under some truth assignment.
\end{dy}

\begin{kuang3}
    \subsection{Consequence and Equivalent}
\end{kuang3}

\subsubsection{The definition of consequence and logically equivalent}

\begin{dy}[Consequence]
    Suppose $\Phi$ is a set of propositions and $\psi$ is one single proposition. We say that $\psi$ is a consequence of $\Phi$, written as $\Phi \models \psi$. if $\Phi$ 's being all true implies that $\psi$ is also true. \\
    In other words, $\Phi \models \psi$ if for any truth assignment $\mathcal{J}, \llbracket \phi \rrbracket_{\mathcal{J}}=\mathbf{T}$ for any $\phi \in \Phi$ implies $\llbracket \psi \rrbracket_{\mathcal{J}}=\mathbf{T}$.
\end{dy}

\begin{dy}[Logically Equivalent]
    $\phi$ is a logically equivalent to $\psi$, written as $\phi \equiv \psi$, if $\phi$ 's truth value and $\psi$ 's truth value are the same under any situation. In other words, $\phi \equiv \psi$ if $\llbracket \phi \rrbracket_{\mathcal{J}}=\llbracket \psi \rrbracket_{\mathcal{J}}$ for any truth assignment $\mathcal{J}$.
\end{dy}

\begin{lt}
    $\Phi = \{\ \}$, $\psi = p \lor \lnot p$, $\Phi \models \psi$
\end{lt}

\subsubsection{Important properties}

\begin{dl} \quad 
    \begin{itemize}
        \item $\phi \lor \lnot \phi$ is an tautology 
        \item $\phi \land \lnot \phi$ is a contradiction 
        \item $\phi, \psi \models \phi \land \psi$ ($\land$-Introduction)
        \item $\phi \land \psi \models \phi$ ($\land$-Elimination)
        \item $\phi \models \phi \lor \psi$ ($\lor$-Introduction)
        \item If $\Phi, \phi_1 \models \psi, \Phi, \phi_2 \models \psi$, then $\Phi, \phi_1 \lor \phi_2 \models \psi$ ($\lor$-Elimination)
    \end{itemize}
    \begin{zmhj}[Proof of the last one]
        Suppose $\lb \phi \rb_\mathcal{J} = \mathbf{T}$, $\lb \phi_1 \lor \phi_2\rb_\mathcal{J} = \mathbf{T}$. \\
        Then at least one of the following holds: $\lb \phi_1\rb_\mathcal{J} = \mathbf{T}, \lb \phi_2\rb_\mathcal{J} = \mathbf{T}$.
        \qed
    \end{zmhj}
\end{dl}

\begin{dl}[Contrapositive]
    If $\Phi, \lnot \phi \models \psi$, then $\Phi, \lnot \psi \models \phi$ 
\end{dl}

\begin{dl} \quad
    \begin{itemize}
        \item $\lnot (\lnot q) \equiv q$ \quad (Double Negation)
        \item $\phi \land \phi \equiv \phi, \quad \phi \lor \phi \equiv \phi$ \quad (Idempotent Laws)
        \item $\phi \land \psi \equiv \psi \land \psi, \quad \phi \lor \psi \equiv \psi \lor \psi$ \quad (Commutative Laws)
        \item $\phi \lor (\psi \land \chi) \equiv (\phi \lor \psi) \land (\phi \lor \chi), \quad \phi \land (\psi \lor \chi) \equiv (\phi \land \psi) \lor (\phi \land \chi)$ \quad (Distributive Laws)
        \item $\lnot (q \land q) \equiv \lnot p \lor \lnot q, \quad \lnot (q \lor q) \equiv \lnot p \land \lnot q$ \quad (De Morgan's Laws)
        \item $\phi \land (\lnot \phi) \equiv \mathbf{F}$, \quad $\phi \lor (\lnot\phi) \equiv \mathbf{T}$ \quad (Negation Laws)
        \item $\phi \land \mathbf{T} \equiv \phi, \quad \phi \lor \mathbf{F} \equiv \phi, \quad \phi \land \mathbf{F} \equiv \mathbf{F}, \quad \phi \lor \mathbf{T} \equiv \mathbf{T}$ \quad (Laws of logical constants)
        \item $\phi \lor (\phi \land \psi) \equiv \phi, \quad \phi \land (\phi \lor \psi) \equiv \phi$ \quad (Absorption Laws)
    \end{itemize}
\end{dl}

\subsubsection{Prove Logical Equivalence}

\begin{dl}[Transitivity]
    If $\phi \equiv \psi$ and $\psi \equiv \chi$, then $\phi \equiv \chi$.
\end{dl}

\begin{dl}[Congruence Property] \quad 
    \begin{itemize} 
        \item If $\phi \equiv \psi$, then $\lnot\phi \equiv \lnot\psi$
        \item If $\phi_1 \equiv \phi_2$, $\psi_1 \equiv \psi_2$, then $\phi_1 \land \psi_1 \equiv \phi_2 \land \psi_2$
        \item If $\phi_1 \equiv \phi_2$, $\psi_1 \equiv \psi_2$, then $\phi_1 \lor \psi_1 \equiv \phi_2 \lor \psi_2$
    \end{itemize}
\end{dl}

\begin{dl}[Reflexivity]
    $\phi \equiv \phi$
\end{dl}

\subsubsection{Relation among tautologies, contradictions, satisfiable assertions, consequence relations and logic equivalence}

\begin{dl} \quad 
    \begin{itemize}
        \item $\phi_1, \phi_2, \cdots \phi_n \models \psi$ iff. $\left(\bigwedge _{k = 1}^n\right) \land \lnot \psi$ is not satisfiable.
        \item $\{\ \} \models \phi$ iff. $\phi$ is an tautology.
        \item $\phi \equiv \psi$ iff. $\phi \models \psi$ and $\psi \models \phi$.
    \end{itemize}
\end{dl}

\begin{dl}
    If $\phi \models \psi$ and $\psi \models \chi$, then $\phi \models \chi$.
\end{dl}

\begin{kuang3}
    \subsection{Normal Forms}
\end{kuang3}

\begin{dy}[Disjunctive Normal Form,\ DNF] \quad 
    \begin{itemize}
        \item A \textcolor{shuang}{\textbf{literal}} is a propositional variable or its negation.
        \item A \textcolor{shuang}{\textbf{conjunctive clause}} is a conjunctions of literals.
        \item A \textcolor{shuang}{\textbf{compound proposition}} is in disjunctive normal form if it is a disjunction of conjunctive clauses.
    \end{itemize}
\end{dy}

\begin{dy}[Conjunctive Normal Form, \  CNF] \quad \\
    (Similar as above)
\end{dy}

\begin{lt} \quad
    \begin{itemize}
        \item literals $x, y, z, p, q, r, \lnot q$
        \item conjunctive clauses $p, p \land q, \lnot p \land q$
        \item DNF $p, p \lor (\lnot q \land r), \lnot p \lor (q \land p \land r)$
    \end{itemize}
\end{lt}

\begin{dl}
    Every compound proposition is logically equivalent to some compound proposition in DNF.
    \begin{zmhj}[Proof 1]
        Suppose that the compound proposition $\phi$ consists of the literals $p_1, p_2, \cdots, p_n$. \\
        For all $\mathcal{J}$ as a interpretation, we only need to prove that 
        \[
            \phi \equiv \bigvee_{\lb \phi \rb_\mathcal{J} = \mathbf{T}}\left(\bigwedge_{\mathcal{J}(p_i) = \mathbf{T}}p_i \land \bigwedge_{\mathcal{J}(p_i) = \mathbf{F}}\lnot p_i \right) = \mathbf{T}
        \]
        Consider a specific interpretation $\mathcal{J}_0$, if $\lb \phi\rb_\mathcal{J} = \mathbf{T}$, then
        \[
            \left\llbracket \bigvee_{\lb \phi \rb_\mathcal{J} = \mathbf{T}}\left(\bigwedge_{\mathcal{J}(p_i) = \mathbf{T}}p_i \land \bigwedge_{\mathcal{J}(p_i) = \mathbf{F}}\lnot p_i \right) \right\rrbracket_{\mathcal{J}_0} 
             = \lb \left(\bigwedge_{\mathcal{J}_0(p_i) = \mathbf{T}}p_i \land \bigwedge_{\mathcal{J}_0(p_i) = \mathbf{F}}\lnot p_i\right)\rb_{\mathcal{J}_0} 
        \]
        If $\mathcal{J}_0(p_i) = \mathbf{T}$, then $\lb p_i \rb_{\mathcal{J_0}} = \mathbf{T}$, \\
        if $\mathcal{J}_0(p_i) = \mathbf{F}$, then $\lb \lnot p_i \rb_{\mathcal{J_0}} = \mathbf{T}$. \\
        So
        \[
            \lb \left(\bigwedge_{\mathcal{J}_0(p_i) = \mathbf{T}}p_i \land \bigwedge_{\mathcal{J}_0(p_i) = \mathbf{F}}\lnot p_i\right)\rb_{\mathcal{J}_0} = \mathbf{T}
        \]
        \qed
    \end{zmhj}
    \begin{zmhj}[Proof 2]
        Define $DNF(\phi)$ as follow and prove that $DNF(\phi) \equiv \phi$. 
        \begin{dyhj}
            \begin{itemize}
                \item $DNF(\phi) \triangleq DNF_2(DNF_1(\phi))$
                \item 
                    $DNF_1(\lnot \lnot \phi) = DNF_1(\phi)$. \\
                    (The De Morgan's law) \\
                    $DNF_1(\phi \land \psi) = DNF_1(\phi) \land DNF_1(\psi)$ \quad ($\lor$ is the same) \\
                    $DNF_1(l) = l$ \quad $l$ is a literal.
                \item 
                    $DNF_2(l) = l$ \quad $l$ is a literal, \\
                    $DNF_2(\phi \lor \psi) = DNF_2(\phi) \lor DNF_2(\psi)$ \\
                    If $\phi = \bigvee_{i = 1}^{n}\phi_i, \psi = \bigvee_{j = 1}^{m}\psi_j$, then 
                    \[
                        DNF_2(\phi \land \psi) = \bigvee_{i = 1}^{n}\bigvee_{j = 1}^{m}(\phi_i \land \psi_j)
                    \]
                \end{itemize}
        \end{dyhj}
        Then it's obvious that $\phi \equiv DNF(\phi)$ and $DNF(\phi)$ is a DNF. 
        \qed
    \end{zmhj}
\end{dl}

\begin{dl}
    Every compound proposition is logically equivalent to some compound proposition in CNF.
    \begin{zmhj}
        (Similar as above)
    \end{zmhj}
\end{dl}

\begin{lt}[*]
    The CDCL algorithm. \\
    (Suspended now)
\end{lt}

\begin{kuang2}
    \section{First Order Logic, \ FOL}
\end{kuang2}

\begin{kuang3}
    \subsection{The syntax of first order language}
\end{kuang3}

\begin{dy} \quad
    \begin{itemize}
        \item Predicate Logic's Language
        \begin{itemize}
            \item Variables $x, y, z, \cdots$
            \item Constants $c_1, c_2, \cdots$
            \item Prelicates $P, Q, R, \cdots$
            \item Functions $f, g, h, \cdots$
            \item Logic patterns $\exists, \forall, \land, \lor, \lnot$
        \end{itemize}
        \item Terms $x, y, c_1, c_2, f(x), g(x, y), \cdots$
        \item propositions $P(x), Q(f(x, g(x, y))), \exists x \forall y R(x, g(y)), \cdots$
    \end{itemize}
\end{dy}

\begin{kuang3}
    \subsection{The semantics of first order language}
\end{kuang3}

\subsubsection{Structure}

\begin{dy}[$S$-structure]\quad \\
    Given a sumbol set $S$, an $S$-structure $\mathcal{A} = \left(A, \alpha\right)$ contains
    \begin{itemize}
        \item a domain $A$, which is a non-empty set.
        \item an interpretation of every predicate symbol.
        \begin{lthj}
            if $P$ is a symbol of binary predicate, then $\alpha(P)$ is a mapping from $A \times A$ to $\{\mathbf{T}, \mathbf{F}\}$.
        \end{lthj}
        \item an interpretation of every function symbol.
        \begin{lthj}
            if $f$ is a symbol of unary function, then $\alpha(f)$ is a mapping from $A$ to $A$.
        \end{lthj}
        \item an interpretation of every constant symbol.
        \begin{lthj}
            if $s$ is a constant symbol, $\alpha(c)$ is an element in domain $A$.
        \end{lthj}
    \end{itemize}
\end{dy}

With a structure, we can determine the truth of an closed proposition.

\subsubsection{Interpretation}

\begin{dy}[$S$-interpretation]\quad \\
    Given a symbol set $S$, a $S$-interpretation $\mathcal{J} = (\mathcal{A}, \beta)$ is
    \begin{itemize}
        \item a \( S \)-structure \( \mathcal{A} = (A, \alpha) \)
        \item a \( S \)-assignment \( \beta \): a mapping from variables to elements in the domain \( A \)
    \end{itemize}
        
    For \( \mathcal{J} = (\mathcal{A}, \beta) \) and \( \mathcal{A} = (A, \alpha) \), we usually use \( \mathcal{J}(P) \) and \( \mathcal{A}(P) \) to represent \( \alpha(P) \), use \( \mathcal{J}(f) \) and \( \mathcal{A}(f) \) to represent \( \alpha(f) \), use \( \mathcal{J}(c) \) and \( \mathcal{A}(c) \) to represent \( \alpha(c) \), and use \( \mathcal{J}(x) \) to represent \( \beta(x) \).        
\end{dy}

\begin{dy}[Terms' denotation]\quad \\
    For $S$-interpretation $\mathcal{J}$ and a $S$-term $t$,
    \begin{itemize}
        \item $\llbracket x \rrbracket_{\mathcal{J}} = \mathcal{J}(x)$
        \item $\llbracket c \rrbracket_{\mathcal{J}} = \mathcal{J}(c)$
        \item $\llbracket f(t_1, t_2, \dots, t_n) \rrbracket_{\mathcal{J}} = \mathcal{J}(f) \big( \llbracket t_1 \rrbracket_{\mathcal{J}}, \llbracket t_2 \rrbracket_{\mathcal{J}}, \dots, \llbracket t_n \rrbracket_{\mathcal{J}} \big)$
    \end{itemize}
\end{dy}

\begin{dy}[Propositions' truth]\quad \\
    For $S$-interpretation $\mathcal{J}$ and a $S$-proposition $t$,
    \begin{itemize}
        \item $\llbracket P(t_1, t_2, \dots, t_n) \rrbracket_{\mathcal{J}} = \mathcal{J}(P) \big( \llbracket t_1 \rrbracket_{\mathcal{J}}, \llbracket t_2 \rrbracket_{\mathcal{J}}, \dots, \llbracket t_n \rrbracket_{\mathcal{J}} \big)$
        \item $\llbracket \varphi \land \psi \rrbracket_{\mathcal{J}} = \llbracket \land \rrbracket \big( \llbracket \varphi \rrbracket_{\mathcal{J}}, \llbracket \psi \rrbracket_{\mathcal{J}} \big)$
        \item $\llbracket \neg \varphi \rrbracket_{\mathcal{J}} = \llbracket \neg \rrbracket \big( \llbracket \varphi \rrbracket_{\mathcal{J}} \big)$
        \item $\llbracket \forall x \varphi \rrbracket_{\mathcal{J}} = \mathbf{T}$ if and only if for every $a$ in $\mathcal{A}$'s domain, $\llbracket \varphi \rrbracket_{\mathcal{J}[x \mapsto a]} = \mathbf{T}$
        \item $\llbracket \exists x \varphi \rrbracket_{\mathcal{J}} = \mathbf{T}$ if and only if for at least one $a$ in $\mathcal{A}$'s domain, $\llbracket \varphi \rrbracket_{\mathcal{J}[x \mapsto a]} = \mathbf{T}$
    \end{itemize}
    where $\mathcal{J}[x \mapsto a]$ is a $S$-interpretation which keeps all other interpretations in $\mathcal{J}$ and interprets $x$ by $a$.
\end{dy}

\begin{kuang3}
    \subsection{Quantiers with restricted domains}
\end{kuang3}

\subsubsection{The truth of "if-then"}

\begin{dl} \quad
    \begin{itemize}
        \item $\phi \rightarrow (\psi \rightarrow \phi) \equiv \mathbf{T}$.
        \item $(\phi \rightarrow \psi \rightarrow \chi) \rightarrow (\phi \rightarrow \psi) \rightarrow (\phi \rightarrow \chi) \equiv \mathbf{T}$.
        \item $\phi \rightarrow \psi \equiv \lnot \phi \lor \psi$
    \end{itemize}
\end{dl}

\begin{kuang1}
    \part{Discrete Math: Set Theory}
\end{kuang1}

\begin{kuang2}
    \section{The definition of set}
\end{kuang2}

(Omitted)

\begin{kuang2}
    \section{Relations}
\end{kuang2}

\begin{kuang3}
    \subsection{Relations}
\end{kuang3}

\subsubsection{Properties of relations}

\begin{dy}
    Given $R$, a relation on $A$, 
    \begin{itemize}
        \item \textbf{Reflexive} on $A$ if it holds that $\forall a \in A, (aRa) \Leftrightarrow I_A \subseteq R$
        \item \textbf{Symmetric} on $A$ if it holds that $\forall a, b \in A$ if $aRb$, then $bRa$ $\Leftrightarrow R^{-1} = R$
        \item \textbf{Transitive} on $A$ if it holds that $\forall a, b, c \in A$ if $aRb, bRc$, then $aRc$ $\Leftrightarrow R \circ R \subseteq R$
        \item \textbf{Antisymmetric} on $A$ if it holds that $\forall a, b \in A$ if $aRb, bRa$, then $a = b$ $\Leftrightarrow R \cap R^{-1} = I_A$
    \end{itemize}
\end{dy}

\subsubsection{Equivalence relations}

\begin{dy}
    If $R \subseteq A \times A$ is reflexive, symmetric and transitive, then $R$ is called a \textbf{equivalence relation} on $A$
\end{dy}

\begin{kuang3}
    \subsection{Relations and Sets}
\end{kuang3}

\subsubsection{Equivalence classes and Partitions}

\begin{dy}
    $R$ is an equivalence relation on $A$, $a \in A$, then we define the equivalence class $[a]_R$ of $A$ by
    \[
        [a]_R = \left\{b \in A | bRa \right\}
    \]
\end{dy}

\begin{dl}
    $aRb$ iff. $[a]_R = [b]_R$
\end{dl}

\subsubsection{Transitive Closures and Reflexive Transitive Closures}

\begin{dy}[Transitive Closures]
    Suppose $R$ is a relation on $A$, $R'$ is a transitive closure of $R$ if 
    \begin{itemize}
        \item $R \subseteq R'$
        \item $R'$ is transitive
        \item $\forall T$, $T$ is transitive, $R \subseteq T$, then $R' \subseteq T$. 
    \end{itemize}
    \begin{dyhj}[Another definition]
        $R^+ = \bigcup_{n = 1}^\infty R^n$ is the transitive closure 
    \end{dyhj}
\end{dy}

\begin{zm}
    Let's prove that the two definitions are equivalent. 
    \begin{itemize}
        \item $R \subseteq R^+$
        \item If $aR^+b, bR^+c$, then there exists $m, n$, $aR^mb$, $bR^nc$, then $aR^{m + n}c$, $R^+$ is transitive.
        \item If $R \subseteq T$ and $T$ is transitive, if $R^n \subseteq T$, then $R^{n + 1} = R^n \circ R \subseteq T \circ T \subseteq T$, so $R^+ = \bigcup_{n = 1}^\infty R^n \subseteq T$.
    \end{itemize}
    So such $R^+$ is a transitive closure.
\end{zm}

\begin{kuang2}
    \section{Functions}
\end{kuang2}

\begin{kuang3}
    \subsection{Functions}
\end{kuang3}

\begin{kuang3}
    \subsection{Funcions and Sets}
\end{kuang3}

\begin{dy} \quad \\
    $F: A \to B$,
    \begin{itemize}
        \item \textbf{Injection}(one-to-one map): $\forall a, a' \in A$, if $F(a) = F(a')$, then $a = a'$.
        \item \textbf{Surjection}(onto map): $\forall b \in B, \exists a \in A, F(a) = b$.
        \item \textbf{Bijection}(one-to-one correspondence): both one-to-one and onto.
    \end{itemize}
\end{dy}

\begin{dl} \quad
    \begin{itemize}
        \item If $F, G$ are both injections, then $F \circ G$ is also an injection.
        \item If $F, G$ are both surjection, then $F \circ G$ is also a surjection.
        \item If $F \circ G$ is an injection, then $G$ is also an injection.
        \item If $F$ is an bijection, then $F^{-1}$ is also a bijection.
    \end{itemize}
\end{dl}

\begin{dl}[Berstern's Theorem]
    If there exist an injection from $A$ to $B$ and an injection from $B$ to $A$, then there exists a bijection between $A$ and $B$
\end{dl}

\begin{zm}
    Suppose $F$ is an one-to-one function from $A$ to $B$, $G$ is an one-to-one function from $B$ to $A$. \\
    Then we can construct a sequence of set as follow:
    \begin{align*}
        C_0 =& \left\{a \in A | \forall b \in B, G(b) \neq a\right\} = A \setminus \left\{a | \exists b \in B, G(b) = a\right\}, \\
        \quad D_0 =& \left\{F(a) | a \in C_0\right\} =B \setminus \left\{b \in B | \exists a \in A \setminus C_0 , b = F(a) \right\}
    \end{align*}
    $\forall n \geqslant 1$,
    \begin{align*}
        C_n =& \left\{a \in A \vert \forall b \in B \setminus \bigcup_{i = 0}^{n - 1}D_i, G(b) \neq a\right\} \\
        D_n =& \left\{F(a) \vert a \in C_n \right\} 
    \end{align*}
    Now we define a function $H$, where \\
    \[H(a) = \begin{cases}
        F(a), & \quad a \in \bigcup_{n = 0}^{\infty}C_n \\
        b\ (a = G(b)), & \quad a \notin \bigcup_{n = 0}^{\infty}C_n
    \end{cases}\]
    Let $C = A \setminus \bigcup_{n = 0}^{\infty}C_n$, $D = B \setminus \bigcup_{n = 0}^{\infty}D_n$ \\
    Now we prove that $H$ is well-defined and is a bijection.
    \begin{itemize}
        \item Firstly we prove that such $b$ exists. \\
        $\forall a \in C, a \notin C_0$, so $\exists b \in B$, $G(b) = a$. If $b \in D_n$, then $a = G(b) \in C_{n + 1}$, contradictive! So $b \in D$. Due to $G$ is an injection, such $b$ is unique.
        \item Then we prove that $H$ is an injection. \\
        $\forall a \in \bigcup_{n = 0}^{\infty}C_n, F(a) \in \bigcup_{n = 0}^{\infty}D_n$, and due to $F$ is an injection, on $\bigcup_{n = 0}^{\infty}C_n$ $H$ is an injection. \\
        $\forall a \in C, \exists b \in D, a = G(b)$, due to $G$ is an injection, on $C$ $H$ is an injection. 
        \item Finallty we prove that $H$ is a surjection. \\
        $\forall b \in \bigcup_{n = 0}^{\infty}D_n$ according to the define. $\forall b \in D, \exists a \in A, G(b) = a$, so $a \notin C_0$. If $a \in C_n, n \geqslant 1$, then $b \in D_{n - 1}$, contradictive! So $a \in C$.
    \end{itemize}
\end{zm}


\end{document}